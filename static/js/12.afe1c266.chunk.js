(this["webpackJsonpreact-api-boilerplate"]=this["webpackJsonpreact-api-boilerplate"]||[]).push([[12],{1972:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(113),l=t(17),s=t(49),c=t.n(s),i=t(64),u=t(56),m=t(1974),d=t(1971),p=t(1970),E=t(143),b=t(1973),f=t(1980),v=t(213),h=t(1963),g=t(97),I=t.n(g),_=t(57),y=t(96),O=t(230),j=t(229),x=t(232),w=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object(x.a)("/internships/".concat(e),y.a.fetcher,a),r=t.data,n=t.error,o=t.mutate;return{internship:r&&r.data,isLoading:!n&&!r,isError:n,mutate:o}},C=t(236),T=t(317),k=T.a.Option,D={labelCol:{xs:{span:18},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:20}}},S=function(e){var a=e.onSubmit,t=e.form,o=e.teacherId,l=function(){var e=Object(x.a)("/careers",y.a.fetcher),a=e.data,t=e.error,r=e.mutate;return{careers:a&&a.data||[],links:a&&a.links,meta:a&&a.meta,isLoading:!t&&!a,isError:t,mutate:r}}(),s=l.careers,c=l.isLoading,i=(l.isError,l.mutate,Object(r.useState)([])),m=Object(u.a)(i,2),d=m[0],E=m[1];console.log("careers",s);return n.a.createElement(p.a,Object.assign({form:t},D,{name:"assign-teacher",initialValues:o,onFinish:a}),n.a.createElement(p.a.Item,{name:"career_id",label:"Carrera",rules:[{required:!0,message:"Selecciona una carrera..."}]},n.a.createElement(T.a,{placeholder:"Selecciona...",onChange:function(e){t.setFieldsValue({teacherId:null}),E(s[e].teachers)},loading:c},s.map((function(e){return n.a.createElement(k,{value:e.id},e.name)})))),n.a.createElement(p.a.Item,{name:"teacherId",label:"Profesor",rules:[{required:!0,message:"Selecciona un profesor..."}]},n.a.createElement(T.a,{placeholder:"Selecciona...",loading:c},d.map((function(e){return n.a.createElement(k,{value:e.id},e.name)})))))},Y=t(1984),q=m.a.confirm,R=d.a.Title,A=function(e){var a=w(e.internship.id),t=a.internship,o=a.isLoading,l=a.isError,s=a.mutate,d=Object(_.b)().currentUser,g=Object(r.useState)(!1),x=Object(u.a)(g,2),T=x[0],k=x[1],D=Object(r.useState)(!1),A=Object(u.a)(D,2),F=A[0],L=A[1],M=p.a.useForm(),N=Object(u.a)(M,1)[0],P=function(){var e=Object(i.a)(c.a.mark((function e(a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.teacherId,q({title:"\xbfConfirmas que deseas enviar el formulario?",icon:n.a.createElement(Y.a,null),okText:"S\xed",cancelText:"No",onOk:function(){var e=Object(i.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,y.a.post("/internships/".concat(t.id,"/teacher/").concat(r));case 4:return e.next=6,s();case 6:E.b.success("La pr\xe1ctica se ha autorizado correctamente."),L(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),a=e.t0.error&&n.a.createElement(O.a,{errors:e.t0.error}),E.b.error(n.a.createElement(n.a.Fragment,null,Object(j.a)(e.t0.message),a));case 14:k(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){}});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o?n.a.createElement("div",null,"Cargando..."):l?n.a.createElement(C.a,{error:l}):n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a,{title:n.a.createElement(R,null,"Detalles de la pr\xe1ctica")}),n.a.createElement(f.a,{bordered:!0,column:2},n.a.createElement(f.a.Item,{label:"Fecha de creaci\xf3n"},I()(t.created_at).format("DD/MM/YYYY HH:mm:ss")),n.a.createElement(f.a.Item,{label:"Estado"},t.status),n.a.createElement(f.a.Item,{label:"Tutor(a)"},t.teacher?"".concat(t.teacher.name," ").concat(t.teacher.lastname):"ROLE_ADMINISTRATIVE"===d.role&&n.a.createElement(v.a,{type:"primary",onClick:function(){return L(!0)}},"Asignar tutor")),n.a.createElement(f.a.Item,{label:"Tipo"},t.type),n.a.createElement(f.a.Item,{label:"Fecha de inicio"},I()(t.start_date).format("DD/MM/YYYY")),n.a.createElement(f.a.Item,{label:"Fecha de fin"},t.finish_date&&I()(t.finish_date).format("DD/MM/YYYY")),n.a.createElement(f.a.Item,{label:"Convenio"},n.a.createElement("p",null,"C\xf3digo: ",t.institutional_agreement_code),n.a.createElement("p",null,"Nombre: ",t.institutional_agreement_name)),n.a.createElement(f.a.Item,{label:"Proyecto de investigaci\xf3n"},n.a.createElement("p",null,"C\xf3digo: ",t.research_project_code),n.a.createElement("p",null,"Nombre: ",t.research_project_name)),n.a.createElement(f.a.Item,{label:"Proyecto de vinculaci\xf3n"},n.a.createElement("p",null,"C\xf3digo: ",t.social_project_code),n.a.createElement("p",null,"Nombre: ",t.social_project_name))),n.a.createElement(f.a,{title:n.a.createElement(h.a,{orientation:"center"},n.a.createElement("strong",null,"DATOS DEL PRACTICANTE")),bordered:!0,column:2},n.a.createElement(f.a.Item,{label:"Nombre"},t.student.name," ",t.student.lastname),n.a.createElement(f.a.Item,{label:"Carrera"},t.student.career),n.a.createElement(f.a.Item,{label:"Cr\xe9ditos aprobados"},0),n.a.createElement(f.a.Item,{label:"Correo"},t.student.email),n.a.createElement(f.a.Item,{label:"Tel\xe9fono"},t.student.phone)),n.a.createElement(f.a,{title:n.a.createElement(h.a,{orientation:"center"},n.a.createElement("strong",null,"DATOS DE LA INSTITUCI\xd3N RECEPTORA")),bordered:!0,column:2},n.a.createElement(f.a.Item,{label:"RUC"},t.company.ruc),n.a.createElement(f.a.Item,{label:"Raz\xf3n social"},t.company.name),n.a.createElement(f.a.Item,{label:"Direcci\xf3n"},t.company.address),n.a.createElement(f.a.Item,{label:"Ciudad"},t.company.city),n.a.createElement(f.a.Item,{label:"Correo"},t.company.email),n.a.createElement(f.a.Item,{label:"Tel\xe9fono 1"},t.company.phone),n.a.createElement(f.a.Item,{label:"Tel\xe9fono 2"},t.company.mobile),n.a.createElement(f.a.Item,{label:"Tipo"},t.company.type)),n.a.createElement(f.a,{title:n.a.createElement(h.a,{orientation:"center"},n.a.createElement("strong",null,"DATOS DEL RESPONSABLE DE LA INSTITUCI\xd3N RECEPTORA")),bordered:!0,column:2},n.a.createElement(f.a.Item,{label:"Nombre"},t.representative.name," ",t.representative.lastname),n.a.createElement(f.a.Item,{label:"Cargo"},t.representative.job_title),n.a.createElement(f.a.Item,{label:"Correo"},t.representative.email),n.a.createElement(f.a.Item,{label:"Tel\xe9fono 1"},t.representative.phone),n.a.createElement(f.a.Item,{label:"Tel\xe9fono 2"},t.representative.mobile)),n.a.createElement(m.a,{title:"Asignar tutor de pr\xe1cticas",visible:F,closable:!1,maskClosable:!1,confirmLoading:T,onCancel:function(){return L(!1)},onOk:function(){return N.submit()},destroyOnClose:!0},n.a.createElement(S,{form:N,onSubmit:P,teacherId:t.teacher_id})))},F=t(44),L=t(1966),M=t(1975),N=t(1977),P=t(1988),z=t(1986),U=t(1985),H=t(1993),V=t(1991),B=t(253),G=d.a.Title,J=function(e){var a=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(x.a)("/internships/".concat(e,"/internship-reports/").concat(a),y.a.fetcher,t),n=r.data,o=r.error;return{report:n&&n.data,isLoading:!o&&!n,isError:o}}(e.report.internship_id,e.report.id),t=a.report,r=a.isLoading,o=a.isError,l=Object(_.b)().currentUser,s={1:{text:"Deficiente",icon:n.a.createElement(P.a,null)},2:{text:"Malo",icon:n.a.createElement(P.a,null)},3:{text:"Regular",icon:n.a.createElement(z.a,null)},4:{text:"Muy Bueno",icon:n.a.createElement(U.a,null)},5:{text:"Excelente",icon:n.a.createElement(U.a,null)}},c=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{disabled:!0,defaultValue:e,character:function(e){var a=e.index;return s[a+1].icon}}),e?n.a.createElement("span",{className:"ant-rate-text"},s[e].text):"")};return r?n.a.createElement("div",null,"Cargando..."):o?n.a.createElement(C.a,{error:o}):t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(G,null,"Reporte ".concat("partial"===t.type?"parcial":"final")),n.a.createElement(f.a,{title:n.a.createElement(h.a,{orientation:"center"},n.a.createElement("strong",null,"REPORTE DEL ESTUDIANTE")),bordered:!0,column:2,extra:"ROLE_STUDENT"===l.role&&l.id===t.user_id&&"representative_pending"===t.status&&n.a.createElement(B.a,{edit:!0,report:t})},n.a.createElement(f.a.Item,{label:"Desde"},t.from_date),n.a.createElement(f.a.Item,{label:"Hasta"},t.to_date),n.a.createElement(f.a.Item,{label:"Horas ejecutadas hasta la fecha"},t.hours_worked),n.a.createElement(f.a.Item,{label:"\xc1rea asignada"},t.area),n.a.createElement(f.a.Item,{label:"Actividades principales desarrolladas",span:2},n.a.createElement("ol",null,t.activities.map((function(e,a){return n.a.createElement("li",{key:a},e.description)})))),n.a.createElement(f.a.Item,{label:"Observaciones del estudiante",span:2},t.student_observations),"final"===t.type&&t.useful_topics&&n.a.createElement(f.a.Item,{label:"Asignaturas de la malla curricular y tem\xe1ticas de mayor utilidad para el desarrollo de la pr\xe1ctica:",span:2},function(e){var a=[];for(var t in e)a.push(n.a.createElement("div",{key:t},n.a.createElement("div",null,n.a.createElement("strong",null,e[t][0].subject_name.toUpperCase())),n.a.createElement("ul",null,e[t].map((function(e,a){return n.a.createElement("li",{key:a},e.name)})))));return a}(t.useful_topics)),"final"===t.type&&t.recommended_topics&&n.a.createElement(f.a.Item,{label:"Tem\xe1ticas que hicieron falta y que no constan en la malla curricular",span:2},n.a.createElement("ul",null,t.recommended_topics.map((function(e,a){return n.a.createElement("li",{key:a},e.name)}))))),n.a.createElement(f.a,{title:n.a.createElement(h.a,{orientation:"center"},n.a.createElement("strong",null,"REPORTE DE LA EMPRESA")),bordered:!0,column:2},n.a.createElement(f.a.Item,{label:"Desempe\xf1o",span:2},c(t.evaluation_performance)),n.a.createElement(f.a.Item,{label:"Motivaci\xf3n",span:2},c(t.evaluation_motivation)),n.a.createElement(f.a.Item,{label:"Habilidades y destrezas",span:2},c(t.evaluation_knowledge)),n.a.createElement(f.a.Item,{label:"Puntualidad y responsabilidad",span:2},c(t.evaluation_punctuality)),n.a.createElement(f.a.Item,{label:"Observaciones",span:2},t.evaluation_observations)),n.a.createElement(f.a,{title:n.a.createElement(h.a,{orientation:"center"},n.a.createElement("strong",null,"REPORTE DEL TUTOR ACAD\xc9MICO")),bordered:!0,column:2},n.a.createElement(f.a.Item,{label:"Novedades reportadas por el estudiante/empresa",span:2},t.tutor_observations),"final"===t.type?n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a.Item,{label:"Desempe\xf1o"},null!==t.tutor_recommends?t.tutor_recommends?n.a.createElement(H.a,{twoToneColor:"#52c41a"}):n.a.createElement(V.a,{twoToneColor:"#eb2f96"}):null),n.a.createElement(f.a.Item,{label:"Observaciones"},t.tutor_recommends_observations),n.a.createElement(f.a.Item,{label:"Motivaci\xf3n"},null!==t.tutor_knowledge_contribution?t.tutor_knowledge_contribution?n.a.createElement(H.a,{twoToneColor:"#52c41a"}):n.a.createElement(V.a,{twoToneColor:"#eb2f96"}):null),n.a.createElement(f.a.Item,{label:"Observaciones"},t.tutor_knowledge_contribution_observations),n.a.createElement(f.a.Item,{label:"Habilidades y destrezas"},null!==t.tutor_recommends_approval?t.tutor_recommends_approval?n.a.createElement(H.a,{twoToneColor:"#52c41a"}):n.a.createElement(V.a,{twoToneColor:"#eb2f96"}):null),n.a.createElement(f.a.Item,{label:"Observaciones"},t.tutor_recommends_approval_observations)):n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a.Item,{label:"Actividades de seguimiento ejecutadas",span:2},t.tutor_followup_actions),n.a.createElement(f.a.Item,{label:"Acciones de mejora",span:2},t.tutor_improvement_actions))))},K=function(e){var a=function(e){var a=Object(x.a)("/internships/".concat(e,"/internship-reports"),y.a.fetcher),t=a.data,r=a.error,n=a.mutate;return console.log("data",t),{reports:t&&t.data,isLoading:!r&&!t,isError:r,mutate:n}}(e.internshipId),t=a.reports,o=a.isLoading,l=a.isError,s=Object(r.useState)(null),c=Object(u.a)(s,2),i=c[0],m=c[1],d=[{title:"Fecha de creaci\xf3n",dataIndex:"created_at",key:"created_at"},{title:"Fecha de inicio",dataIndex:"from_date",key:"from_date"},{title:"Fecha de fin",dataIndex:"to_date",key:"to_date"},{title:"Horas trabajadas",dataIndex:"hours_worked",key:"hours_worked"},{title:"Tipo",dataIndex:"type",key:"type"},{title:"Estado",dataIndex:"status",key:"status"},{title:"Acciones",dataIndex:"actions",key:"actions",render:function(e,a){return n.a.createElement(v.a,{type:"link",onClick:function(){return p(a)}},"Ver detalles")}}],p=function(e){console.log("internshipReport",e),m(e)};if(o)return n.a.createElement("div",null,"Cargando...");if(l)return n.a.createElement(C.a,{error:l});return n.a.createElement(n.a.Fragment,null,n.a.createElement(L.a,{dataSource:t?t.map((function(e){return Object(F.a)(Object(F.a)({},e),{},{key:e.id,created_at:I()(e.created_at).format("DD/MM/YYYY HH:mm:ss"),from_date:I()(e.from_date).format("DD/MM/YYYY"),to_date:e.to_date&&I()(e.to_date).format("DD/MM/YYYY"),hours_worked:e.hours_worked,status:e.status,type:e.type})})):[],columns:d,loading:o,summary:function(e){var a=0,t=0;return e.forEach((function(e){var r=e.hours_worked,n=e.status;"approved"===n||"registered"===n?a+=r:t+=r})),n.a.createElement(n.a.Fragment,null,n.a.createElement(L.a.Summary.Row,null,n.a.createElement(L.a.Summary.Cell,{colSpan:3},"Total de horas aprobadas"),n.a.createElement(L.a.Summary.Cell,{index:3},a)),n.a.createElement(L.a.Summary.Row,null,n.a.createElement(L.a.Summary.Cell,{colSpan:3},"Total de horas pendientes"),n.a.createElement(L.a.Summary.Cell,{index:3},t)))},pagination:!1}),n.a.createElement(M.a,{closable:!1,onClose:function(){return m(null)},visible:!!i,placement:"right",width:"1100px",destroyOnClose:!0},i&&n.a.createElement(J,{report:i})))},Q=t(1981);a.default=Object(o.a)((function(){var e=Object(l.h)().id,a=Object(_.b)().currentUser,t=w(e),r=t.internship,o=t.isLoading,s=t.isError;return o?n.a.createElement("div",null,"Cargando..."):s?n.a.createElement(C.a,{error:s}):n.a.createElement(n.a.Fragment,null,n.a.createElement(A,{internship:r}),n.a.createElement(h.a,{orientation:"center",style:{marginTop:40,marginBottom:40}},n.a.createElement("strong",null,"REPORTES REGISTRADOS")),"ROLE_STUDENT"===a.role?"in_progress"===r.status?n.a.createElement(B.a,{internshipId:e}):"pending"===r.status?n.a.createElement(Q.a,{message:"Pendiente de autorizaci\xf3n",description:"Estas pr\xe1cticas deben ser autorizadas antes de que puedas registrar reportes.",type:"warning",showIcon:!0}):"final_report_sent"===r.status?n.a.createElement(Q.a,{message:"Reporte final enviado",description:"Ya has enviado el reporte final para estas pr\xe1cticas, no es posible registrar m\xe1s reportes.",type:"info",showIcon:!0}):null:null,n.a.createElement(K,{internshipId:e}))}))},229:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var r=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={invalid_credentials:"Usuario o clave incorrectos","The given data was invalid.":"Datos no v\xe1lidos",token_expired:"Tu sesi\xf3n ha expirado",PERMISSION_DENIED:"No tienes permiso para realizar esta acci\xf3n","auth/internal-error":"hmmm... Algo sali\xf3 mal y no lo ten\xedamos previsto, por favor vuelve a intentarlo.","auth/argument-error":"La URL de activaci\xf3n no es v\xe1lida.","auth/invalid-user-token":"","auth/invalid-api-key":"","auth/network-request-failed":"Parece que no est\xe1s conectado a Internet, por favor aseg\xfarate de estar conectado e int\xe9ntalo de nuevo.","auth/operation-not-allowed":"","auth/requires-recent-login":"Por favor vuelve a iniciar sesi\xf3n para completar esta acci\xf3n.","auth/user-token-expired":"","auth/web-storage-unsupported":"","auth/email-sent":"Se ha enviado el correo de verificaci\xf3n a ".concat(a.email,". Por favor revisa tu bandeja de entrada."),"auth/reset-password-email-sent":"Se ha enviado un correo para restablecer la contrase\xf1a a ".concat(a.email,". Por favor revisa tu bandeja de entrada."),"auth/reset-password-success":"Tu contrase\xf1a ha sido cambiada con \xe9xito, enseguida ser\xe1s redirigido para que inicies sesi\xf3n..","auth/change-password-success":"Tu contrase\xf1a ha sido cambiada con \xe9xito.","auth/account-verified":"Felicidades, has activado tu cuenta, por favor inicia sesi\xf3n.","auth/invalid-action-code":"El c\xf3digo de activaci\xf3n ha caducado o ya ha sido utilizado.","auth/expired-action-code":"El c\xf3digo de activaci\xf3n ha caducado.","auth/user-disabled":"Este usuario se encuentra deshabilitado.","auth/user-not-found":"No existe un usuario registrado con el email proporcionado.","auth/wrong-password":"Usuario o contrase\xf1a incorrectos.","auth/weak-password":"La contrase\xf1a se considera muy d\xe9bil, por favor ingresa una contrase\xf1a m\xe1s fuerte.","auth/popup-closed-by-user":"La ventana de inicio de sesi\xf3n fue cerrada por el usuario.","auth/account-exists-with-different-credential":"Este correo electr\xf3nico se encuentra registrado pero con otras credenciales, por favor intenta iniciar sesi\xf3n con otro m\xe9todo.","auth/account-exists-with-different-role":'Este correo electr\xf3nico se encuentra registrado pero con el perfil de "'.concat(a.role,'", se ha iniciado sesi\xf3n con este perfil, pronto podr\xe1s registrarte con ambos perfiles en Profe a Tiempo.'),"auth/email-already-in-use":"Este correo electr\xf3nico ya est\xe1 en uso.","auth/requires-login":"Por favor inicia sesi\xf3n para completar esta acci\xf3n.","auth/invalid-email":"Correo electr\xf3nico no v\xe1lido.","auth/too-many-requests":"Ups... esas son muchas peticiones en muy poco tiempo, espera unos segundos y vuelve a intentarlo.","profile/profile-saved-success":"Los datos de tu perfil se han guardado con \xe9xito.","profile/save-teacher-data-error":"Ocurri\xf3 un error al guardar la informaci\xf3n del perfil del profesor.","profile/save-student-data-error":"Ocurri\xf3 un error al guardar la informaci\xf3n del perfil del estudiante.","profile/not-completed-profile":"Debes completar tu perfil para realizar esta acci\xf3n.","profile/not-active-teacher":"A\xfan no eres un profe activo, aseg\xfarate de haber completado el proceso de entrevista y aceptar el acuerdo de responsabilidad para ser activado.","profile/not-accepted-teacher":"A\xfan no eres un profe aceptado, aseg\xfarate de haber aprobado la etapa de entrevistas.","profile/subscription-created-success":"Gracias! se ha registrado tu infomaci\xf3n de pago, ahora puedes empezar a solicitar clases.","profile/subscription-updated-success":"Gracias! se ha actualizado tu infomaci\xf3n de pago, puedes continuar solicitando clases.","profile/subscription-error":"Ocurri\xf3 un error al registrar tu tarjeta, por favor aseg\xfarate que los datos son correctos e int\xe9ntalo de nuevo.","class-request/save-class-request-data-success":"Se ha enviado tu solicitud de clase, te notificaremos tan pronto como te asignemos un profe.","class-request/save-class-request-data-error":"Ocurri\xf3 un error al guardar la informaci\xf3n de la solicitud.","class-request/complete-profile-first":"Debes completar tu perfil para empezar a solicitar clases.","class-request/must-be-student-to-request-class":"Debes estar registrado como estudiante para solicitar clases.","class-request/request-expired":"La solicitud a expirado.","class-request/request-not-available":"Otro profesor ya ha aceptado esta clase, puedes buscar m\xe1s clases en la lista.","class-request/teacher-assignation-success":"Se te ha asignado esta clase, por favor ponte en contacto con el estudiante.","class-request/teacher-assignation-error":"Ocurri\xf3 un error al asignarte esta clase, por favor int\xe9ntalo de nuevo o busca otra clase.","class-request/teacher-data-details":"No tienes un profe asiganado todav\xeda","class-evaluation/cannot-evaluate-class-yet":"A\xfan no puedes calificar esta clase.","class-evaluation/class-already-evaluated":"Ya has calificado esta clase.","class-evaluation/save-teacher-evaluation-success":"Gracias por calificar a tu profesor.","class-evaluation/save-teacher-evaluation-error":"No se pudo guardar la calificaci\xf3n del profesor, por favor int\xe9ntalo nuevamente.","class-evaluation/save-student-evaluation-success":"Gracias por calificar a tu estudiante.","class-evaluation/save-student-evaluation-error":"No se pudo guardar la calificaci\xf3n del estudiante, por favor int\xe9ntalo nuevamente.","search-request/complete-process-first":"Debes completar el proceso de selecci\xf3n para poder aceptar una clase.","teacher-evaluation/argument-error":'La funci\xf3n debe ser llamada con un argumento "teacherId".'};return t[e]||e}},230:function(e,a,t){"use strict";var r=t(1983),n=t(0),o=t.n(n);a.a=function(e){var a=e.errors;return o.a.createElement(r.b,{size:"small",dataSource:Object.values(a).map((function(e){return e})),renderItem:function(e){return o.a.createElement(r.b.Item,null,e)}})}},236:function(e,a,t){"use strict";var r=t(0),n=t.n(r),o=t(219),l=t(213),s=t(229),c=(t(11),function(e){switch(e){case 403:case 401:return 403;case 500:return 500;case 404:return 404;default:return"error"}});a.a=function(e){var a=e.error;return console.log("props",a.error),n.a.createElement(o.a,{status:c(a.status),title:Object(s.a)(a.error),subTitle:Object(s.a)(a.message),extra:n.a.createElement(l.a,{type:"primary"},"Back Home")})}},253:function(e,a,t){"use strict";var r=t(49),n=t.n(r),o=t(44),l=t(64),s=t(56),c=t(0),i=t.n(c),u=t(1970),m=t(143),d=t(217),p=t(218),E=t(213),b=t(1974),f=t(1989),v=t(1987),h=t(82),g=t(1967),I=t(1979),_=t(1981),y=t(1982),O=t(1990),j=t(97),x=t.n(j),w=t(57),C=g.a.RangePicker,T={labelCol:{xs:{span:18},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:20}}},k={wrapperCol:{xs:{span:24,offset:0},sm:{span:18,offset:6}}},D=function(e){var a=e.form,t=e.onSubmit,r=Object(h.a)(e,["form","onSubmit"]),n=Object(w.b)().currentUser,l=Object(c.useState)(!1),m=Object(s.a)(l,2),d=m[0],p=m[1],b=function(e){var t=n.hours_registered+n.hours_approved+e;p(t>=480),a.setFieldsValue({type:t>480?"final":"partial"})};return i.a.createElement(u.a,Object.assign({},T,{onFinish:t,form:a,name:"report",initialValues:r.report?Object(o.a)(Object(o.a)({},r.report),{},{dates:[x()(r.report.from_date),x()(r.report.to_date)],activities:r.report.activities.length>0?r.report.activities.map((function(e){return e.description})):[""]}):{activities:[""],type:"partial"}}),i.a.createElement(u.a.Item,{name:"dates",label:"Fechas",rules:[{required:!0,message:"Ingresa las fechas incluidas en este reporte"}]},i.a.createElement(C,{placeholder:["Inicio","Fin"],inputReadOnly:!0,disabledDate:function(e){return e&&e>x()().endOf("day")},format:"DD/MM/YYYY"})),i.a.createElement(u.a.Item,{label:"\xc1rea",name:"area",rules:[{required:!0,whitespace:!0,message:"Selecciona el \xe1rea de la empresa donde desarrollaste tus actividades."}]},i.a.createElement(I.a,null)),i.a.createElement(u.a.Item,{label:"Horas",name:"hours_worked",rules:[{required:!0,message:"Ingresa la cantidad de horas que vas a reportar."},{type:"number",min:1,message:"Ingresa un valor num\xe9rico."}],extra:d&&i.a.createElement(_.a,{message:"Reporte final de pr\xe1cticas",description:"Tus horas de pr\xe1cticas llegan o superan las 480 horas requeridas por lo que este ser\xe1 tu reporte final.",type:"info",showIcon:!0})},i.a.createElement(y.a,{style:{width:"100%"},onChange:b})),i.a.createElement(u.a.Item,{name:"type",hidden:!0,rules:[{required:!0,message:"El tipo de reporte no es v\xe1lido."},{enum:["partial","final"],message:"El tipo de reporte no es v\xe1lido."}]},i.a.createElement(y.a,{style:{width:"100%"},onChange:b})),i.a.createElement(u.a.List,{name:"activities"},(function(e,a){var t=a.add,r=a.remove;return i.a.createElement("div",null,e.map((function(a,t){return i.a.createElement(u.a.Item,Object.assign({},0===t?T:k,{label:0===t?"Actividades:":"",required:!0,key:a.key}),i.a.createElement(u.a.Item,Object.assign({},a,{rules:[{required:!0,whitespace:!0,message:"Detalla las actividades desarrolladas durante las pr\xe1cticas."}],noStyle:!0}),i.a.createElement(I.a.TextArea,{placeholder:"Descripci\xf3n de la actividad",autoSize:{maxRows:4},style:{width:"90%"}})),e.length>1?i.a.createElement(O.a,{className:"dynamic-delete-button",style:{margin:"0 8px"},onClick:function(){r(a.name)}}):null)})),i.a.createElement(u.a.Item,k,i.a.createElement(E.a,{type:"dashed",onClick:function(){t()},style:{width:"90%"}},i.a.createElement(f.a,null)," A\xf1adir una actividad")))})),i.a.createElement(u.a.Item,{name:"student_observations",label:"Observaciones:",rules:[{required:!0,whitespace:!0,message:"Detalla las actividades desarrolladas durante las pr\xe1cticas."}]},i.a.createElement(I.a.TextArea,{placeholder:"Observaciones sobre las pr\xe1cticas que ha realizado en la empresa.",autoSize:{maxRows:4}})),d&&i.a.createElement("h1",null,"Final"))},S=t(96),Y=t(230),q=t(229),R=t(232);a.a=function(e){var a=e.internshipId,t=e.report,r=e.edit,h=u.a.useForm(),g=Object(s.a)(h,1)[0],I=Object(c.useState)(!1),_=Object(s.a)(I,2),y=_[0],O=_[1],j=Object(c.useState)(!1),w=Object(s.a)(j,2),C=w[0],T=w[1],k=function(){var e=Object(l.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values",t),e.prev=1,T(!0),e.next=5,S.a.post("/internships/".concat(a,"/internship-reports"),Object(o.a)(Object(o.a)({},t),{},{from_date:x()(t.dates[0]).format("YYYY-MM-DD"),to_date:x()(t.dates[1]).format("YYYY-MM-DD")}));case 5:return e.next=7,Object(R.b)("/internships/".concat(a,"/internship-reports"));case 7:O(!1),g.resetFields(),m.b.success("El reporte se ha guardado correctamente."),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),r=e.t0.error&&i.a.createElement(Y.a,{errors:e.t0.error}),m.b.error(i.a.createElement(i.a.Fragment,null,Object(q.a)(e.t0.message),r));case 16:T(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(n.a.mark((function e(a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values",a),e.prev=1,T(!0),e.next=5,S.a.put("/internships/".concat(t.internship_id,"/internship-reports/").concat(t.id),Object(o.a)(Object(o.a)({},a),{},{from_date:x()(a.dates[0]).format("YYYY-MM-DD"),to_date:x()(a.dates[1]).format("YYYY-MM-DD")}));case 5:return e.next=7,Object(R.b)("/internships/".concat(t.internship_id,"/internship-reports"));case 7:return e.next=9,Object(R.b)("/internships/".concat(t.internship_id,"/internship-reports/").concat(t.id));case 9:O(!1),g.resetFields(),m.b.success("El reporte se ha guardado correctamente."),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),r=e.t0.error&&i.a.createElement(Y.a,{errors:e.t0.error}),m.b.error(i.a.createElement(i.a.Fragment,null,Object(q.a)(e.t0.message),r));case 18:T(!1);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,null,i.a.createElement(p.a,{align:"right"},r?i.a.createElement(E.a,{onClick:function(){return O(!0)},icon:i.a.createElement(v.a,null)},"Editar"):i.a.createElement(E.a,{type:"primary",style:{marginBottom:20},onClick:function(){return O(!0)},icon:i.a.createElement(f.a,null)},"Nuevo reporte"))),i.a.createElement(b.a,{title:"".concat(r?"Editar":"Nuevo"," reporte de pr\xe1cticas"),visible:y,closable:!1,maskClosable:!1,okText:"Enviar reporte",confirmLoading:C,cancelText:"Cancelar",onCancel:function(){g.resetFields(),O(!1)},onOk:function(){return g.submit()}},r?i.a.createElement(D,{form:g,onSubmit:A,report:t}):i.a.createElement(D,{form:g,onSubmit:k,internshipId:a})))}}}]);
//# sourceMappingURL=12.afe1c266.chunk.js.map