{"version":3,"sources":["pages/Logout.js"],"names":["withAuth","useAuth","setAuthenticated","setCurrentUser","useEffect","a","console","log","API","post","Cookies","remove","headers","window","localStorage","setItem","JSON","stringify","doLogout"],"mappings":"sOA4BeA,uBAtBA,WAAO,IAAD,EAC0BC,cAArCC,EADW,EACXA,iBAAkBC,EADP,EACOA,eAkB1B,OAjBAC,qBAAW,WAAM,4CACf,sBAAAC,EAAA,sEAEIC,QAAQC,IAAK,cAFjB,SAGUC,IAAIC,KAAM,WAHpB,OAIIC,IAAQC,OAAQ,gBACTH,IAAII,QAAJ,cACPC,OAAOC,aAAaC,QAAS,QAASC,KAAKC,WAAW,IACtDf,GAAkB,GAClBC,EAAgB,MARpB,kDAUIG,QAAQC,IAAK,IAAb,MAVJ,2DADe,uBAAC,WAAD,wBAefW,KACC,CAAEhB,IACE,+CAGwB","file":"static/js/15.0c7fa4b2.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport { useAuth } from '../providers/Auth';\nimport withAuth from '../hocs/withAuth';\nimport API from '../data';\nimport Cookies from 'js-cookie';\n\nconst Logout = () => {\n  const { setAuthenticated, setCurrentUser } = useAuth();\n  useEffect( () => {\n    async function doLogout() {\n      try {\n        console.log( 'loggin out' );\n        await API.post( '/logout' );\n        Cookies.remove( 'token' );\n        delete API.headers[ 'Authorization' ];\n        window.localStorage.setItem( 'login', JSON.stringify( false ) );\n        setAuthenticated( false );\n        setCurrentUser( null );\n      } catch( e ) {\n        console.log( 'e', e );\n      }\n    }\n\n    doLogout();\n  }, [ setAuthenticated ] );\n  return <p>Logging out...</p>;\n};\n\nexport default withAuth( Logout, '/' );\n"],"sourceRoot":""}