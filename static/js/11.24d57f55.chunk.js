(this["webpackJsonpreact-api-boilerplate"]=this["webpackJsonpreact-api-boilerplate"]||[]).push([[11],{1969:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(56),l=t(1966),c=t(63),i=t(232),o=t(96),u=t(236),m=t(97),d=t.n(m),p=t(28),f=t(11),E=t(57),g=function(){var e=Object(r.useState)(1),a=Object(s.a)(e,2),t=a[0],m=a[1],g=function(e){var a=Object(i.a)("/internships?page=".concat(e),o.a.fetcher),t=a.data,r=a.error,n=a.mutate;return console.log("data",t),{internships:t&&t.data,links:t&&t.links,meta:t&&t.meta,isLoading:!r&&!t,isError:r,mutate:n}}(t),b=g.internships,v=g.meta,h=g.isLoading,y=g.isError,I=(Object(E.b)().currentUser,[{title:"Fecha de creaci\xf3n",dataIndex:"created_at",key:"created_at"},{title:"Estudiante",dataIndex:"student",key:"student"},{title:"Empresa",dataIndex:"company",key:"company"},{title:"Tutor",dataIndex:"tutor",key:"tutor"},{title:"Fecha de inicio",dataIndex:"start_date",key:"start_date"},{title:"Fecha de fin",dataIndex:"finish_date",key:"finish_date"},{title:"Tipo",dataIndex:"type",key:"type"},{title:"Estado",dataIndex:"status",key:"status"},{title:"Acciones",dataIndex:"actions",key:"actions",render:function(e,a){return n.a.createElement(p.b,{to:f.a.INTERNSHIP_ID.replace(":id",a.key)},"Ver detalles")}}]),O={current:1,pageSize:10,total:10,showSizeChanger:!1};if(y)return n.a.createElement(u.a,{error:y});return v&&(O={current:v.current_page,pageSize:v.per_page,total:v.total,showSizeChanger:!1}),n.a.createElement(l.a,{dataSource:b?b.map((function(e){return{key:e.id,created_at:d()(e.created_at).format("DD/MM/YYYY HH:mm:ss"),start_date:d()(e.start_date).format("DD/MM/YYYY"),finish_date:e.finish_date&&d()(e.finish_date).format("DD/MM/YYYY"),type:e.type,student:"".concat(e.student.name," ").concat(e.student.lastname),tutor:e.teacher&&"".concat(e.teacher.name," ").concat(e.teacher.lastname),company:e.company&&e.company.name,status:e.status}})):[],columns:I,rowKey:function(e){return e.key},pagination:O,loading:h,onChange:function(e){return m(e.current)},locale:{emptyText:n.a.createElement(c.a,{image:c.a.PRESENTED_IMAGE_SIMPLE,description:n.a.createElement("span",null,"No hay pr\xe1cticas preprofesionales registradas")})}})},b=t(1971),v=b.a.Title,h=function(){return n.a.createElement("div",null,n.a.createElement(v,null,"Lista de pr\xe1cticas preprofesionales"),n.a.createElement(g,null))},y=t(113),I=b.a.Title,O=function(){return n.a.createElement("div",null,n.a.createElement(I,null,"Tutorias de pr\xe1cticas preprofesionales"),n.a.createElement(g,null))},x=t(217),j=t(218),w=t(1976),C=t(1963),k=t(1993),S=t(1992),q=t(1991),_=(t(253),t(1974)),F=t(213),T=t(1984),D=t(1989),Y=t(1987),A=t(230),M=t(229),N=t(49),R=t.n(N),z=t(64),L=t(82),P=t(1968),U=t(1970),V=t(143),H=t(219),G=t(317),B=t(1979),$=G.a.Option,J={labelCol:{xs:{span:18},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:20}}},K=function(e){var a=e.form,t=e.onSubmit,r=e.company;return n.a.createElement(U.a,Object.assign({},J,{name:"company",onFinish:t,form:a,initialValues:r}),n.a.createElement(U.a.Item,{label:"RUC",name:"ruc",placeholder:"Ingresa el RUC de la empresa donde realizar\xe1s tus pr\xe1cticas",rules:[{required:!0,whitespace:!0,message:"Ingresa el ruc de la empresa."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,whitespace:!0,message:"Ingresa el nombre de la empresa."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"address",label:"Direcci\xf3n",rules:[{required:!0,whitespace:!0,message:"Ingresa la direcci\xf3n de la empresa."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"city",label:"Ciudad",rules:[{required:!0,whitespace:!0,message:"Ingresa la ciudad de la empresa."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"email",label:"Correo",rules:[{required:!0,whitespace:!0,message:"Ingresa el correo de la empresa."},{type:"email",message:"Ingresa un correo electr\xf3nico v\xe1lido."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"phone",label:"Tel\xe9fono 1",rules:[{required:!0,whitespace:!0,message:"Ingresa un n\xfamero de contacto de la empresa."},{pattern:new RegExp("^\\d{7,}$"),message:"Ingresa un n\xfamero de tel\xe9fono v\xe1lido."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"mobile",label:"Tel\xe9fono 2",rules:[{pattern:new RegExp("^\\d{7,}$"),message:"Ingresa un n\xfamero de tel\xe9fono v\xe1lido."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"type",label:"Tipo",rules:[{required:!0,message:"Selecciona el tipo de empresa."}]},n.a.createElement(G.a,{placeholder:"Selecciona..."},n.a.createElement($,{value:"p\xfablica"},"P\xfablica"),n.a.createElement($,{value:"privada"},"Privada"),n.a.createElement($,{value:"organismo internacional"},"Organismo internacional"),n.a.createElement($,{value:"tercer sector"},"Tercer sector"),n.a.createElement($,{value:"otras"},"Otras"))))},Q=t(1967),W=t(1994),X=G.a.Option,Z={labelCol:{xs:{span:18},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:20}}},ee=["Educaci\xf3n","Artes y humanidades","Ciencias sociales, periodismo, informaci\xf3n y derecho","Administraci\xf3n","Ciencias naturales, matem\xe1ticas, y estad\xedstica","Tecnolog\xedas de la informaci\xf3n y la comunicaci\xf3n (TIC)","Ingenier\xeda, industr\xeda y construcci\xf3n","Agricultura, solvicultura, pesca y veterinaria","Salud y bienestar","Servicios"],ae=[["Educaci\xf3n"],["Artes","Humanidades","Idiomas"],["Ciencias sociales y del comportamiento","Periodismo e informaci\xf3n","Derecho"],["Educaci\xf3n comercial y administraci\xf3n"],["Ciencias biol\xf3gicas y afines","Medio ambiente","Ciencias f\xedsicas","Matem\xe1ticas y estad\xedstica"],["Tecnolog\xedas de la informaci\xf3n y la comunicaci\xf3n (TIC)"],["Ingenier\xeda y profesiones afines","Industria y producci\xf3n","Arquitectura y construcci\xf3n"],["Agricultura","Silvicultura","Pesca","Veterinaria"],["Salud","Bienestar"],["Servicios personales","Servicios de protecci\xf3n","Servicios de seguridad","Servicio de transporte"]],te=function(e){var a=e.form,t=Object(r.useState)([]),l=Object(s.a)(t,2),c=l[0],i=l[1],o=Object(r.useState)(!1),u=Object(s.a)(o,2),m=u[0],p=u[1],f=Object(r.useState)(!1),E=Object(s.a)(f,2),g=E[0],b=E[1],v=Object(r.useState)(!1),h=Object(s.a)(v,2),y=h[0],I=h[1];return n.a.createElement(U.a,Object.assign({},Z,{name:"internship",form:a}),n.a.createElement(U.a.Item,{name:"type",label:"Tipo",rules:[{required:!0,message:"Selecciona el tipo de pr\xe1cticas."}]},n.a.createElement(G.a,{placeholder:"Selecciona..."},n.a.createElement(X,{value:"laboral"},"Laboral"),n.a.createElement(X,{value:"servicio a la comunidad"},"Servicio a la comunidad"))),n.a.createElement(U.a.Item,{name:"wide_field",label:"Campo amplio",rules:[{required:!0,message:"Selecciona el campo amplio."}]},n.a.createElement(G.a,{placeholder:"Selecciona...",onChange:function(e){a.setFieldsValue({specific_field:null}),i(ae[ee.indexOf(e)])}},ee.map((function(e){return n.a.createElement(X,{key:e,value:e},e)})))),n.a.createElement(U.a.Item,{name:"specific_field",label:"Campo espec\xedfico",rules:[{required:!0,message:"Selecciona el campo amplio."}]},n.a.createElement(G.a,{placeholder:"Selecciona..."},c.map((function(e){return n.a.createElement(X,{key:e,value:e},e)})))),n.a.createElement(U.a.Item,{name:"start_date",label:"Fecha de inicio",rules:[{required:!0,message:"Ingresa la fecha de inicio."}]},n.a.createElement(Q.a,{format:"DD/MM/YYYY",inputReadOnly:!0,disabledDate:function(e){return e&&e>d()().endOf("day")}})),n.a.createElement(U.a.Item,{name:"student_activities",label:"Actividades:",rules:[{required:!0,whitespace:!0,message:"Detalla las actividades que desarrollar\xe1s durante las pr\xe1cticas."}]},n.a.createElement(B.a.TextArea,{placeholder:"Detalla las actividades que desarrollar\xe1s durante las pr\xe1cticas.",autoSize:{maxRows:4}})),n.a.createElement(U.a.Item,{label:"Convenio institucional"},n.a.createElement(W.a,{onChange:function(e){return p(e)}})),m&&n.a.createElement(n.a.Fragment,null,n.a.createElement(U.a.Item,{name:"institutional_agreement_code",label:"C\xf3digo",rules:[{required:!0,whitespace:!0,message:"Ingresa c\xf3digo del convenio institucional."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"institutional_agreement_name",label:"Nombre",rules:[{required:!0,whitespace:!0,message:"Ingresa nombre del convenio institucional."}]},n.a.createElement(B.a,null))),n.a.createElement(U.a.Item,{label:"Proyecto de investigaci\xf3n"},n.a.createElement(W.a,{onChange:function(e){return b(e)}})),g&&n.a.createElement(n.a.Fragment,null,n.a.createElement(U.a.Item,{name:"research_project_code",label:"C\xf3digo",rules:[{required:!0,whitespace:!0,message:"Ingresa c\xf3digo del proyecto de investigaci\xf3n."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"research_project_name",label:"Nombre",rules:[{required:!0,whitespace:!0,message:"Ingresa nombre del proyecto de investigaci\xf3n."}]},n.a.createElement(B.a,null))),n.a.createElement(U.a.Item,{label:"Proyecto de vinculaci\xf3n"},n.a.createElement(W.a,{onChange:function(e){return I(e)}})),y&&n.a.createElement(n.a.Fragment,null,n.a.createElement(U.a.Item,{name:"social_project_code",label:"C\xf3digo",rules:[{required:!0,whitespace:!0,message:"Ingresa c\xf3digo del proyecto de vinculaci\xf3n."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"social_project_name",label:"Nombre",rules:[{required:!0,whitespace:!0,message:"Ingresa nombre del proyecto de vinculaci\xf3n."}]},n.a.createElement(B.a,null))))},re=G.a.Option,ne={labelCol:{xs:{span:18},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:20}}},se=function(e){var a=e.form,t=e.onSubmit,r=e.representative;return n.a.createElement(U.a,Object.assign({},ne,{name:"representative",onFinish:t,form:a,initialValues:r}),n.a.createElement(U.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa el nombre."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"lastname",label:"Apellido",rules:[{required:!0,message:"Ingresa el apellido."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"job_title",label:"Cargo",rules:[{required:!0,message:"Ingresa el cargo que tiene en la empresa."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"email",label:"Correo",rules:[{required:!0,message:"Ingresa el correo del representante."},{type:"email",message:"Ingresa un correo electr\xf3nico v\xe1lido."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"phone",label:"Tel\xe9fono 1",rules:[{required:!0,message:"Ingresa un n\xfamero de contacto."},{pattern:new RegExp("^\\d{7,}$"),message:"Ingresa un n\xfamero de tel\xe9fono v\xe1lido."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"mobile",label:"Tel\xe9fono 2",rules:[{pattern:new RegExp("^\\d{7,}$"),message:"Ingresa un n\xfamero de tel\xe9fono v\xe1lido."}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{name:"sex",label:"G\xe9nero",rules:[{required:!0,message:"Selecciona el g\xe9nero."}]},n.a.createElement(G.a,{placeholder:"Selecciona..."},n.a.createElement(re,{value:"male"},"Masculino"),n.a.createElement(re,{value:"female"},"Femenino"))))},le=_.a.confirm,ce=b.a.Title,ie=G.a.Option,oe=function(e){var a=e.representatives,t=e.form,l=Object(r.useState)(!1),c=Object(s.a)(l,2),i=c[0],o=c[1],u=function(){i?le({title:"\xbfConfirmas que deseas cancelar este formulario?",icon:n.a.createElement(T.a,null),content:"Se perder\xe1 toda la informaci\xf3n ingresada.",okText:"S\xed",cancelText:"No",onOk:function(){var e=Object(z.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.resetFields(),o((function(e){return!e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){}}):(t.resetFields(),o((function(e){return!e})))};return n.a.createElement(n.a.Fragment,null,i?n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{justify:"center",style:{marginBottom:40}},n.a.createElement(j.a,null,n.a.createElement(F.a,{type:"primary",onClick:u},"Deseo seleccionar un representante"))),n.a.createElement(C.a,null,n.a.createElement(ce,{level:5},"Agregar un representante de la empresa")),n.a.createElement(se,{form:t})):n.a.createElement(n.a.Fragment,null,n.a.createElement(U.a,{form:t},n.a.createElement(C.a,null,n.a.createElement(ce,{level:5},"Selecciona el representante de la empresa que te acompa\xf1ar\xe1 durante las pr\xe1cticas")),n.a.createElement(U.a.Item,{name:"id",label:"Representante",rules:[{required:!0,message:"Selecciona un representante"}]},n.a.createElement(G.a,null,a&&a.map((function(e){return n.a.createElement(ie,{key:e.id,value:e.id},"".concat(e.name," ").concat(e.lastname))}))))),n.a.createElement(x.a,{justify:"center"},n.a.createElement(j.a,null,n.a.createElement(F.a,{type:"primary",onClick:u},"Deseo agregar un representante")))))},ue=t(1981),me={labelCol:{xs:{span:18},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:20}}},de=function(e){var a=e.form,t=(e.onSubmit,Object(r.useState)(null)),l=Object(s.a)(t,2),c=l[0],i=l[1],u=Object(r.useState)(!1),m=Object(s.a)(u,2),d=m[0],p=m[1],f=Object(r.useState)(!1),E=Object(s.a)(f,2),g=E[0],b=E[1],v=function(){var e=Object(z.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.validateFields(["ruc"]);case 2:return e.prev=2,p(!0),e.next=6,o.a.get("/companies/ruc/".concat(a.getFieldValue("ruc")));case 6:t=e.sent,console.log("company found",t.data),i(t.data),a.setFieldsValue(t.data),b(!0),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("e",e.t0),i({}),a.resetFields(["name","type","address","phone","mobile","email","city"]),b(!1);case 19:p(!1);case 20:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(U.a,Object.assign({},me,{name:"company-step",form:a}),n.a.createElement(U.a.Item,{label:"RUC",required:!0},n.a.createElement(U.a.Item,{label:"RUC",name:"ruc",noStyle:!0,placeholder:"Ingresa el RUC de la empresa donde realizar\xe1s tus pr\xe1cticas",rules:[{required:!0,whitespace:!0,message:"Ingresa el ruc de la empresa."}]},n.a.createElement(B.a,{disabled:g,style:{width:160}})),g?n.a.createElement(F.a,{onClick:function(){i(null),a.resetFields(["name","type","address","phone","mobile","email","city"]),b(!1)}},"Cambiar"):n.a.createElement(F.a,{onClick:v,loading:d},"Verificar"))),c&&n.a.createElement(n.a.Fragment,null,g?n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{justify:"center"},n.a.createElement(j.a,{span:12},n.a.createElement(ue.a,{message:"Esta empresa ya est\xe1 registrada en el sistema, puedes continuar al siguiente paso.",type:"info",showIcon:!0}))),n.a.createElement(U.a,Object.assign({},me,{name:"company",form:a}),n.a.createElement(U.a.Item,{hidden:!0,name:"id",rules:[{required:!0}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{hidden:!0,name:"representatives",rules:[{required:!0}]},n.a.createElement(B.a,null)),n.a.createElement(U.a.Item,{label:"Nombre"},c.name),n.a.createElement(U.a.Item,{label:"Direcci\xf3n"},c.address),n.a.createElement(U.a.Item,{label:"Ciudad"},c.city),n.a.createElement(U.a.Item,{label:"Correo"},c.email),n.a.createElement(U.a.Item,{label:"Tel\xe9fono 1"},c.phone),n.a.createElement(U.a.Item,{label:"Tel\xe9fono 2"},c.mobile),n.a.createElement(U.a.Item,{label:"Tipo"},c.type))):n.a.createElement(K,{form:a})))},pe=P.a.Step,fe=_.a.confirm,Ee=function(e){e.internship;var a=Object(L.a)(e,["internship"]),t=U.a.useForm(),l=Object(s.a)(t,1)[0],c=U.a.useForm(),u=Object(s.a)(c,1)[0],m=U.a.useForm(),p=Object(s.a)(m,1)[0],f=Object(r.useState)(0),E=Object(s.a)(f,2),g=E[0],b=E[1],v=Object(r.useState)(!1),h=Object(s.a)(v,2),y=(h[0],h[1]),I=Object(r.useState)(!1),O=Object(s.a)(I,2),w=O[0],k=O[1],S=[{title:"Empresa",content:n.a.createElement(de,{form:l}),form:l},{title:"Responsable",content:n.a.createElement(oe,{representatives:l.getFieldValue("representatives"),form:u}),form:u},{title:"Pr\xe1ctica",content:n.a.createElement(te,{form:p}),form:p}],q=function(){var e=Object(z.a)(R.a.mark((function e(){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S[g].form.validateFields();case 3:a=e.sent,console.log("values",a),b((function(e){return e+1})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("next error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(z.a)(R.a.mark((function e(){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S[g].form.validateFields();case 2:a=e.sent,fe({title:"\xbfConfirmas que deseas enviar el formulario?",icon:n.a.createElement(T.a,null),okText:"S\xed",cancelText:"No",onOk:function(){var e=Object(z.a)(R.a.mark((function e(){var t,r,s,c,m,f,E,g,b,v;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("values",a),t="saving-status",e.prev=2,y(!0),r=l.getFieldsValue(),s=u.getFieldsValue(),c=p.getFieldsValue(),m=r.id){e.next=15;break}return V.b.loading({content:"Guardando los datos de la empresa...",key:t}),e.next=12,o.a.post("/companies",r);case 12:f=e.sent,m=f.data.id,console.log("company created",f);case 15:if(E=s.id){e.next=23;break}return V.b.loading({content:"Guardando los datos del representante...",key:t}),e.next=20,o.a.post("/companies/".concat(m,"/representatives"),s);case 20:g=e.sent,E=g.data.id,console.log("representative created",g);case 23:return V.b.loading({content:"Guardando los datos de la pr\xe1ctica...",key:t}),c.representative_id=E,c.start_date=d()(c.start_date).format("YYYY-MM-DD"),e.next=28,o.a.post("/internships",c);case 28:return b=e.sent,e.next=31,Object(i.b)("/internships?page=1");case 31:V.b.success({content:"\xa1Listo!",key:t}),console.log("intershipcreated",b),l.resetFields(),u.resetFields(),p.resetFields(),k(!0),e.next=43;break;case 39:e.prev=39,e.t0=e.catch(2),v=e.t0.error&&n.a.createElement(A.a,{errors:e.t0.error}),V.b.error({content:n.a.createElement(n.a.Fragment,null,Object(M.a)(e.t0.message),v),key:t});case 43:y(!1);case 44:case"end":return e.stop()}}),e,null,[[2,39]])})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,w?n.a.createElement(H.a,{status:"success",title:"\xa1Los datos de la pr\xe1ctica se han guardado correctamente!",subTitle:"Antes de poder registrar tus reportes, la pr\xe1ctica debe ser autorizada por la ESFOT.",extra:[n.a.createElement(F.a,{type:"primary",key:"console",onClick:function(){return a.onFinish()}},"\xa1Entendido!")]}):n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{current:g,style:{marginBottom:40}},S.map((function(e,a){return n.a.createElement(pe,{key:"step-".concat(a),title:e.title})}))),S.map((function(e,a){return n.a.createElement("div",{key:"step-content-".concat(a),hidden:a!==g},S[a].content)})),n.a.createElement(C.a,null),n.a.createElement(x.a,{justify:"between"},n.a.createElement(j.a,{span:12},g>0&&n.a.createElement(F.a,{onClick:function(){return b((function(e){return e-1}))}},"Anterior")),n.a.createElement(j.a,{span:12,align:"right"},g<S.length-1&&n.a.createElement(F.a,{type:"primary",onClick:q},"Siguiente"),g===S.length-1&&n.a.createElement(F.a,{type:"primary",onClick:_},"Enviar solicitud")))))},ge=_.a.confirm,be=function(e){var a=e.internship,t=e.edit,l=Object(r.useState)(!1),c=Object(s.a)(l,2),i=c[0],o=c[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,null,n.a.createElement(j.a,{align:"right"},t?n.a.createElement(F.a,{onClick:function(){return o(!0)},icon:n.a.createElement(Y.a,null)},"Editar"):n.a.createElement(F.a,{type:"primary",style:{marginBottom:20},onClick:function(){return o(!0)},icon:n.a.createElement(D.a,null)},"Nueva solicitud de pr\xe1ctica"))),n.a.createElement(_.a,{title:"".concat(t?"Editar":"Nueva"," solicitud de pr\xe1cticas"),visible:i,maskClosable:!1,onCancel:function(){ge({title:"\xbfConfirmas que deseas cerrar el formulario?",icon:n.a.createElement(T.a,null),content:"Se perder\xe1 toda la informaci\xf3n ingresada.",okText:"S\xed",cancelText:"No",onOk:function(){o(!1)},onCancel:function(){}})},footer:null,width:800,destroyOnClose:!0},t?n.a.createElement(Ee,{onFinish:function(){return o(!1)},internship:a}):n.a.createElement(Ee,{onFinish:function(){return o(!1)}})))},ve=b.a.Title,he=Object(y.a)((function(){var e=Object(E.b)().currentUser;return n.a.createElement("div",null,n.a.createElement(x.a,{justify:"center"},n.a.createElement(j.a,{span:3,style:{textAlign:"center"}},n.a.createElement(w.a,{title:"Horas registradas",value:e.hours_registered,prefix:n.a.createElement(k.a,{twoToneColor:"#52c41a"})})),n.a.createElement(j.a,{span:3,style:{textAlign:"center"}},n.a.createElement(w.a,{title:"Horas aprobadas",value:e.hours_approved,prefix:n.a.createElement(k.a,{twoToneColor:"#1890ff"})})),n.a.createElement(j.a,{span:3,style:{textAlign:"center"}},n.a.createElement(w.a,{title:"Horas pendientes",value:e.hours_pending,prefix:n.a.createElement(S.a,{twoToneColor:"#fa8c16"})})),n.a.createElement(j.a,{span:3,style:{textAlign:"center"}},n.a.createElement(w.a,{title:"Horas rechazadas",value:e.hours_rejected,prefix:n.a.createElement(q.a,{twoToneColor:"#f5222d"})}))),n.a.createElement(C.a,null,n.a.createElement(ve,null,"Pr\xe1cticas preprofesionales realizadas")),n.a.createElement(be,null),n.a.createElement(g,null))})),ye=b.a.Title,Ie=function(){return n.a.createElement("div",null,n.a.createElement(ye,null,"Lista de pasantes a cargo"),n.a.createElement(g,null))};a.default=Object(y.a)((function(){var e=Object(E.b)().currentUser;return console.log("currentUser",e),n.a.createElement("div",null,"ROLE_ADMINISTRATIVE"===e.role?n.a.createElement(h,null):"ROLE_TEACHER"===e.role?n.a.createElement(O,null):"ROLE_STUDENT"===e.role?n.a.createElement(he,null):n.a.createElement(Ie,null))}))},229:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var r=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={invalid_credentials:"Usuario o clave incorrectos","The given data was invalid.":"Datos no v\xe1lidos",token_expired:"Tu sesi\xf3n ha expirado",PERMISSION_DENIED:"No tienes permiso para realizar esta acci\xf3n","auth/internal-error":"hmmm... Algo sali\xf3 mal y no lo ten\xedamos previsto, por favor vuelve a intentarlo.","auth/argument-error":"La URL de activaci\xf3n no es v\xe1lida.","auth/invalid-user-token":"","auth/invalid-api-key":"","auth/network-request-failed":"Parece que no est\xe1s conectado a Internet, por favor aseg\xfarate de estar conectado e int\xe9ntalo de nuevo.","auth/operation-not-allowed":"","auth/requires-recent-login":"Por favor vuelve a iniciar sesi\xf3n para completar esta acci\xf3n.","auth/user-token-expired":"","auth/web-storage-unsupported":"","auth/email-sent":"Se ha enviado el correo de verificaci\xf3n a ".concat(a.email,". Por favor revisa tu bandeja de entrada."),"auth/reset-password-email-sent":"Se ha enviado un correo para restablecer la contrase\xf1a a ".concat(a.email,". Por favor revisa tu bandeja de entrada."),"auth/reset-password-success":"Tu contrase\xf1a ha sido cambiada con \xe9xito, enseguida ser\xe1s redirigido para que inicies sesi\xf3n..","auth/change-password-success":"Tu contrase\xf1a ha sido cambiada con \xe9xito.","auth/account-verified":"Felicidades, has activado tu cuenta, por favor inicia sesi\xf3n.","auth/invalid-action-code":"El c\xf3digo de activaci\xf3n ha caducado o ya ha sido utilizado.","auth/expired-action-code":"El c\xf3digo de activaci\xf3n ha caducado.","auth/user-disabled":"Este usuario se encuentra deshabilitado.","auth/user-not-found":"No existe un usuario registrado con el email proporcionado.","auth/wrong-password":"Usuario o contrase\xf1a incorrectos.","auth/weak-password":"La contrase\xf1a se considera muy d\xe9bil, por favor ingresa una contrase\xf1a m\xe1s fuerte.","auth/popup-closed-by-user":"La ventana de inicio de sesi\xf3n fue cerrada por el usuario.","auth/account-exists-with-different-credential":"Este correo electr\xf3nico se encuentra registrado pero con otras credenciales, por favor intenta iniciar sesi\xf3n con otro m\xe9todo.","auth/account-exists-with-different-role":'Este correo electr\xf3nico se encuentra registrado pero con el perfil de "'.concat(a.role,'", se ha iniciado sesi\xf3n con este perfil, pronto podr\xe1s registrarte con ambos perfiles en Profe a Tiempo.'),"auth/email-already-in-use":"Este correo electr\xf3nico ya est\xe1 en uso.","auth/requires-login":"Por favor inicia sesi\xf3n para completar esta acci\xf3n.","auth/invalid-email":"Correo electr\xf3nico no v\xe1lido.","auth/too-many-requests":"Ups... esas son muchas peticiones en muy poco tiempo, espera unos segundos y vuelve a intentarlo.","profile/profile-saved-success":"Los datos de tu perfil se han guardado con \xe9xito.","profile/save-teacher-data-error":"Ocurri\xf3 un error al guardar la informaci\xf3n del perfil del profesor.","profile/save-student-data-error":"Ocurri\xf3 un error al guardar la informaci\xf3n del perfil del estudiante.","profile/not-completed-profile":"Debes completar tu perfil para realizar esta acci\xf3n.","profile/not-active-teacher":"A\xfan no eres un profe activo, aseg\xfarate de haber completado el proceso de entrevista y aceptar el acuerdo de responsabilidad para ser activado.","profile/not-accepted-teacher":"A\xfan no eres un profe aceptado, aseg\xfarate de haber aprobado la etapa de entrevistas.","profile/subscription-created-success":"Gracias! se ha registrado tu infomaci\xf3n de pago, ahora puedes empezar a solicitar clases.","profile/subscription-updated-success":"Gracias! se ha actualizado tu infomaci\xf3n de pago, puedes continuar solicitando clases.","profile/subscription-error":"Ocurri\xf3 un error al registrar tu tarjeta, por favor aseg\xfarate que los datos son correctos e int\xe9ntalo de nuevo.","class-request/save-class-request-data-success":"Se ha enviado tu solicitud de clase, te notificaremos tan pronto como te asignemos un profe.","class-request/save-class-request-data-error":"Ocurri\xf3 un error al guardar la informaci\xf3n de la solicitud.","class-request/complete-profile-first":"Debes completar tu perfil para empezar a solicitar clases.","class-request/must-be-student-to-request-class":"Debes estar registrado como estudiante para solicitar clases.","class-request/request-expired":"La solicitud a expirado.","class-request/request-not-available":"Otro profesor ya ha aceptado esta clase, puedes buscar m\xe1s clases en la lista.","class-request/teacher-assignation-success":"Se te ha asignado esta clase, por favor ponte en contacto con el estudiante.","class-request/teacher-assignation-error":"Ocurri\xf3 un error al asignarte esta clase, por favor int\xe9ntalo de nuevo o busca otra clase.","class-request/teacher-data-details":"No tienes un profe asiganado todav\xeda","class-evaluation/cannot-evaluate-class-yet":"A\xfan no puedes calificar esta clase.","class-evaluation/class-already-evaluated":"Ya has calificado esta clase.","class-evaluation/save-teacher-evaluation-success":"Gracias por calificar a tu profesor.","class-evaluation/save-teacher-evaluation-error":"No se pudo guardar la calificaci\xf3n del profesor, por favor int\xe9ntalo nuevamente.","class-evaluation/save-student-evaluation-success":"Gracias por calificar a tu estudiante.","class-evaluation/save-student-evaluation-error":"No se pudo guardar la calificaci\xf3n del estudiante, por favor int\xe9ntalo nuevamente.","search-request/complete-process-first":"Debes completar el proceso de selecci\xf3n para poder aceptar una clase.","teacher-evaluation/argument-error":'La funci\xf3n debe ser llamada con un argumento "teacherId".'};return t[e]||e}},230:function(e,a,t){"use strict";var r=t(1983),n=t(0),s=t.n(n);a.a=function(e){var a=e.errors;return s.a.createElement(r.b,{size:"small",dataSource:Object.values(a).map((function(e){return e})),renderItem:function(e){return s.a.createElement(r.b.Item,null,e)}})}},236:function(e,a,t){"use strict";var r=t(0),n=t.n(r),s=t(219),l=t(213),c=t(229),i=(t(11),function(e){switch(e){case 403:case 401:return 403;case 500:return 500;case 404:return 404;default:return"error"}});a.a=function(e){var a=e.error;return console.log("props",a.error),n.a.createElement(s.a,{status:i(a.status),title:Object(c.a)(a.error),subTitle:Object(c.a)(a.message),extra:n.a.createElement(l.a,{type:"primary"},"Back Home")})}},253:function(e,a,t){"use strict";var r=t(49),n=t.n(r),s=t(44),l=t(64),c=t(56),i=t(0),o=t.n(i),u=t(1970),m=t(143),d=t(217),p=t(218),f=t(213),E=t(1974),g=t(1989),b=t(1987),v=t(82),h=t(1967),y=t(1979),I=t(1981),O=t(1982),x=t(1990),j=t(97),w=t.n(j),C=t(57),k=h.a.RangePicker,S={labelCol:{xs:{span:18},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:20}}},q={wrapperCol:{xs:{span:24,offset:0},sm:{span:18,offset:6}}},_=function(e){var a=e.form,t=e.onSubmit,r=Object(v.a)(e,["form","onSubmit"]),n=Object(C.b)().currentUser,l=Object(i.useState)(!1),m=Object(c.a)(l,2),d=m[0],p=m[1],E=function(e){var t=n.hours_registered+n.hours_approved+e;p(t>=480),a.setFieldsValue({type:t>480?"final":"partial"})};return o.a.createElement(u.a,Object.assign({},S,{onFinish:t,form:a,name:"report",initialValues:r.report?Object(s.a)(Object(s.a)({},r.report),{},{dates:[w()(r.report.from_date),w()(r.report.to_date)],activities:r.report.activities.length>0?r.report.activities.map((function(e){return e.description})):[""]}):{activities:[""],type:"partial"}}),o.a.createElement(u.a.Item,{name:"dates",label:"Fechas",rules:[{required:!0,message:"Ingresa las fechas incluidas en este reporte"}]},o.a.createElement(k,{placeholder:["Inicio","Fin"],inputReadOnly:!0,disabledDate:function(e){return e&&e>w()().endOf("day")},format:"DD/MM/YYYY"})),o.a.createElement(u.a.Item,{label:"\xc1rea",name:"area",rules:[{required:!0,whitespace:!0,message:"Selecciona el \xe1rea de la empresa donde desarrollaste tus actividades."}]},o.a.createElement(y.a,null)),o.a.createElement(u.a.Item,{label:"Horas",name:"hours_worked",rules:[{required:!0,message:"Ingresa la cantidad de horas que vas a reportar."},{type:"number",min:1,message:"Ingresa un valor num\xe9rico."}],extra:d&&o.a.createElement(I.a,{message:"Reporte final de pr\xe1cticas",description:"Tus horas de pr\xe1cticas llegan o superan las 480 horas requeridas por lo que este ser\xe1 tu reporte final.",type:"info",showIcon:!0})},o.a.createElement(O.a,{style:{width:"100%"},onChange:E})),o.a.createElement(u.a.Item,{name:"type",hidden:!0,rules:[{required:!0,message:"El tipo de reporte no es v\xe1lido."},{enum:["partial","final"],message:"El tipo de reporte no es v\xe1lido."}]},o.a.createElement(O.a,{style:{width:"100%"},onChange:E})),o.a.createElement(u.a.List,{name:"activities"},(function(e,a){var t=a.add,r=a.remove;return o.a.createElement("div",null,e.map((function(a,t){return o.a.createElement(u.a.Item,Object.assign({},0===t?S:q,{label:0===t?"Actividades:":"",required:!0,key:a.key}),o.a.createElement(u.a.Item,Object.assign({},a,{rules:[{required:!0,whitespace:!0,message:"Detalla las actividades desarrolladas durante las pr\xe1cticas."}],noStyle:!0}),o.a.createElement(y.a.TextArea,{placeholder:"Descripci\xf3n de la actividad",autoSize:{maxRows:4},style:{width:"90%"}})),e.length>1?o.a.createElement(x.a,{className:"dynamic-delete-button",style:{margin:"0 8px"},onClick:function(){r(a.name)}}):null)})),o.a.createElement(u.a.Item,q,o.a.createElement(f.a,{type:"dashed",onClick:function(){t()},style:{width:"90%"}},o.a.createElement(g.a,null)," A\xf1adir una actividad")))})),o.a.createElement(u.a.Item,{name:"student_observations",label:"Observaciones:",rules:[{required:!0,whitespace:!0,message:"Detalla las actividades desarrolladas durante las pr\xe1cticas."}]},o.a.createElement(y.a.TextArea,{placeholder:"Observaciones sobre las pr\xe1cticas que ha realizado en la empresa.",autoSize:{maxRows:4}})),d&&o.a.createElement("h1",null,"Final"))},F=t(96),T=t(230),D=t(229),Y=t(232);a.a=function(e){var a=e.internshipId,t=e.report,r=e.edit,v=u.a.useForm(),h=Object(c.a)(v,1)[0],y=Object(i.useState)(!1),I=Object(c.a)(y,2),O=I[0],x=I[1],j=Object(i.useState)(!1),C=Object(c.a)(j,2),k=C[0],S=C[1],q=function(){var e=Object(l.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values",t),e.prev=1,S(!0),e.next=5,F.a.post("/internships/".concat(a,"/internship-reports"),Object(s.a)(Object(s.a)({},t),{},{from_date:w()(t.dates[0]).format("YYYY-MM-DD"),to_date:w()(t.dates[1]).format("YYYY-MM-DD")}));case 5:return e.next=7,Object(Y.b)("/internships/".concat(a,"/internship-reports"));case 7:x(!1),h.resetFields(),m.b.success("El reporte se ha guardado correctamente."),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),r=e.t0.error&&o.a.createElement(T.a,{errors:e.t0.error}),m.b.error(o.a.createElement(o.a.Fragment,null,Object(D.a)(e.t0.message),r));case 16:S(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(n.a.mark((function e(a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values",a),e.prev=1,S(!0),e.next=5,F.a.put("/internships/".concat(t.internship_id,"/internship-reports/").concat(t.id),Object(s.a)(Object(s.a)({},a),{},{from_date:w()(a.dates[0]).format("YYYY-MM-DD"),to_date:w()(a.dates[1]).format("YYYY-MM-DD")}));case 5:return e.next=7,Object(Y.b)("/internships/".concat(t.internship_id,"/internship-reports"));case 7:return e.next=9,Object(Y.b)("/internships/".concat(t.internship_id,"/internship-reports/").concat(t.id));case 9:x(!1),h.resetFields(),m.b.success("El reporte se ha guardado correctamente."),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),r=e.t0.error&&o.a.createElement(T.a,{errors:e.t0.error}),m.b.error(o.a.createElement(o.a.Fragment,null,Object(D.a)(e.t0.message),r));case 18:S(!1);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,null,o.a.createElement(p.a,{align:"right"},r?o.a.createElement(f.a,{onClick:function(){return x(!0)},icon:o.a.createElement(b.a,null)},"Editar"):o.a.createElement(f.a,{type:"primary",style:{marginBottom:20},onClick:function(){return x(!0)},icon:o.a.createElement(g.a,null)},"Nuevo reporte"))),o.a.createElement(E.a,{title:"".concat(r?"Editar":"Nuevo"," reporte de pr\xe1cticas"),visible:O,closable:!1,maskClosable:!1,okText:"Enviar reporte",confirmLoading:k,cancelText:"Cancelar",onCancel:function(){h.resetFields(),x(!1)},onOk:function(){return h.submit()}},r?o.a.createElement(_,{form:h,onSubmit:A,report:t}):o.a.createElement(_,{form:h,onSubmit:q,internshipId:a})))}}}]);
//# sourceMappingURL=11.24d57f55.chunk.js.map